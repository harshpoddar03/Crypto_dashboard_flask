<!doctype html>
<html>

  <head>
    <link rel="stylesheet"  href="/static/mystyle2.css" />
  </head>
 
 

  <body>
   <div class="container">
    <div class="navigation">
      <ul>
        <li>
          <a href ="#">
            <span class="icon"><ion-icon name="logo-bitcoin"></ion-icon></span>
            <span class ="title">Crypto analysis</span>
          </a>
        </li>
        <li>
          <a href ="/dash">
            <span class="icon"><ion-icon name="analytics-outline"></ion-icon></span>
            <span class ="title">Graph</span>
          </a>
        </li>
        <li>
          <a href ="#">
            <span class="icon"><ion-icon name="bar-chart-outline"></ion-icon></span>
            <span class ="title"> Trade Analysis</span>
          </a>
        </li>
      </ul>
    </div>
   

    <div class="main">
      <div class="topbar">
        <div class="toggle">
          <ion-icon name="menu-outline"></ion-icon>
        </div>
  
      </div>
   </div>
  </div>
 
  <form method="post" class ="dropdown1" action="/dash/graph" >
    <div class = "dropdown one">
      <label for="type">Choose the Coin:</label>
      <select name="coins" id="coins">

        {% for k in pairlist %} 
          <option value="{{k}}" {% if coin == k %} selected {% endif %}> {{ k }} </option>
        {% endfor %}
      </select>
    </div>
    <div class = "dropdown two">
      <label for="type">Choose the type:</label>
      <select name="type" id="type">
        
          <option value="default" selected disabled hidden>Choose a type</option>
          <option value="Price History" {% if option == 'Price History' %}selected{% endif %}>Price History</option>
          <option value="Transaction History" {% if option == 'Transaction History' %}selected{% endif %}>Transaction History</option>
          <option value="Transaction Volume" {% if option == 'Transaction Volume' %}selected{% endif %} >Transaction Volume</option>
       
      </select>
    </div>
    <div class="submit">
      <input type="submit" name="next" value="Next">
    </div>
  </form>
  <div class = "data">
  <div class="child one">
    <h1 class="currencies"> Total currencies : {{totalcoins}} </h1>
    <h1 class="amount"> Total amount: {{totalamount}}</h1>
 </div>
  <div class="child two">
    <h1 class="Price"> Current Price : {{currentprice}}</h1>
  </div>
 </div>

  <script>

    const coin = document.getElementById('coins');
    const t = document.getElementById('type');
    coin.addEventListener('change', change);
    t.addEventListener('change', change);
    function change(){
      console.log(coin.value);
      console.log(t.value);

    }

  </script>


    <div id='chart' class='chart'>
    <p>{{figure}}</p>
      </div>
    
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>



    <script>

      //MenuToggle
      let toggle = document.querySelector('.toggle')
      let navigation = document.querySelector('.navigation')
      let main = document.querySelector('.main')
      let data = document.querySelector('.data')
      let childone = document.querySelector('.child.one')
      let chart = document.querySelector('.chart')

 


      toggle.onclick = function(){
        navigation.classList.toggle('active')
        main.classList.toggle('active')
        data.classList.toggle('active')
        childone.classList.toggle('active')
        chart.classList.toggle('active')

      }




      // add hovered class  in the selected list items basically add a class in already existing element
  
      let list = document.querySelectorAll('.navigation li');
  
      function activeLink(){
        list.forEach((item) =>
        item.classList.remove('hovered'));
        this.classList.add('hovered');
      }
  
      list.forEach((item) =>
      item.addEventListener('mouseover',activeLink));
  
      
  
  
    </script>
  </body>
  
  
  <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
  <script type='text/javascript'>
    var graphs = {{ graphJSON | safe}};
    Plotly.plot('chart',graphs,{});
  </script>
  
</html>