<!doctype html>
<html>

  <head>
    <link rel="stylesheet"  href="/static/mystyle3.css" />
  </head>
 
 

  <body>
   <div class="container">
    <div class="navigation">
      <ul>
        <li>
          <a href ="#">
            <div class="icon"><ion-icon name="logo-bitcoin"></ion-icon></div>
            <span class ="title">Crypto analysis</span>
          </a>
        </li>
        <li>
          <a href ="/dash/graph">
            <div class="icon"><ion-icon name="analytics-outline"></ion-icon></div>
            <span class ="title">Graph</span>
          </a>
        </li>
        <li>
          <a href ="/dash/trade">
            <div class="icon"><ion-icon name="bar-chart-outline"></ion-icon></div>
            <span class ="title"> Trade Analysis</span>
          </a>
        </li>
      </ul>
    </div>
   </div>

   <div class="main">
    <div class="topbar">
      <div class="toggle">
        <ion-icon name="menu-outline"></ion-icon>
      </div>
  
    </div>
   </div>


   <form method="post" class ="dropdown1" action="/dash/trade" >
    <div class = "dropdown one">
      <label for="type">Choose the Coin:</label>
      <select name="coins" id="coins">

        {% for k in pairlist %} 
          <option value="{{k}}" {% if coin == k %} selected {% endif %}> {{ k }} </option>
        {% endfor %}
      </select>
    </div>

    <div class = "dates">
      <div class = "start_date">
        <label for="Start">Start Date :</label>
        <input type="date" id="start" name="start" value ={{sdate}}>
      </div>

      <div class ="end_date">
        <label for="end">End Date :</label>
        <input type="date" id="end" name="end" value ={{edate}}>
      </div>
    </div>
    <div class = "submit">
        <input type="submit" name="next" value="Next">
    </div>
  


  <div class="trade_analysis">
    <div class = "heading">
      <br>
      <h2 class = "first">Sum Buy Amount : {{sum_volbuy}} {{coin}}</h2>
      <h2>Sum Buy Total : {{sum_amountbuy}} USDT </h2>
      <h2>Average Buy Price : {{average_buy}} USDT/{{coin}} </h2>
      <br>
      <h2>Sum Sell Amount : {{sum_volsell}} {{coin}} </h2>
      <h2>Sum Sell Total : {{sum_amountsell}} USDT</h2>
      <h2>Average Sell Price : {{average_sell}} USDT/{{coin}} </h2>
      <br>
      <h2>Current Position : {{current_position}} {{coin}}</h2>
      <h2>Total Postion Cost : {{total_position_cost}} USDT </h2>
      <h2>Average Postion Cost : {{average_postion}} USDT/{{coin}}</h2>
    </div>
  </div>

  <script>

    const coin = document.getElementById('coins');
    const sdate = document.getElementById('start');
    const edate = document.getElementById('end');

    var defaultVal_Sdate = sdate.defaultValue;
    var currentVal_Sdate = sdate.value

    if (currentVal_Sdate == None){
      sdate.value = defaultVal_Sdate;
    }

    
    var defaultVal_Edate = edate.defaultValue;
    var currentVal_Edate = edate.value

    if (currentVal_Edate == None){
      edate.value = defaultVal_Edate;
    }

    coin.addEventListener('change', change);
    function change(){
      console.log(coin.value);
      console.log(sdate.value);
      console.log(edate.value);

    }

  </script>

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

<script>

  //MenuToggle
  let toggle = document.querySelector('.toggle')
  let navigation = document.querySelector('.navigation')
  let main = document.querySelector('.main')





  toggle.onclick = function(){
    navigation.classList.toggle('active')
    main.classList.toggle('active')


  }




  // add hovered class  in the selected list items basically add a class in already existing element

  let list = document.querySelectorAll('.navigation li');

  function activeLink(){
    list.forEach((item) =>
    item.classList.remove('hovered'));
    this.classList.add('hovered');
  }

  list.forEach((item) =>
  item.addEventListener('mouseover',activeLink));

  


</script>
</body>

</html>